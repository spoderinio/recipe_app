<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ - –ö–Ω–∏–≥–∞ —Å —Ä–µ—Ü–µ–ø—Ç–∏</title>
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    <header class="header">
        <div class="header-content container">
            <h1>‚öôÔ∏è –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏ –ø–∞–Ω–µ–ª</h1>
            <div class="nav-links">
                <a href="/">üè† –ù–∞—á–∞–ª–æ</a>
                <button id="theme-toggle" class="theme-toggle" onclick="toggleTheme()">üåô</button>
            </div>
        </div>
    </header>
    
    <div class="container">
        <!-- Admin Navigation -->
        <div class="admin-nav">
            <button class="btn btn-secondary" onclick="window.location.href='/admin'">üìñ –†–µ—Ü–µ–ø—Ç–∏</button>
            <button class="btn btn-primary admin-nav-active" onclick="showAdminSection('categories')">üóÇÔ∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</button>
        </div>
        
        <!-- Categories Management -->
        <div class="admin-form">
            <h2>üóÇÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
            <p class="help-text">–¢—É–∫ –º–æ–∂–µ—Ç–µ –¥–∞ –ø—Ä–µ–∏–º–µ–Ω—É–≤–∞—Ç–µ –∏–ª–∏ –∏–∑—Ç—Ä–∏–µ—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏. –ü—Ä–∏ –∏–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –≤—Å–∏—á–∫–∏ —Ä–µ—Ü–µ–ø—Ç–∏ –≤ –Ω–µ—è —Å–µ –ø—Ä–µ–º–µ—Å—Ç–≤–∞—Ç –≤ "–î—Ä—É–≥–∏".</p>
        </div>
        
        <!-- Category List -->
        <div class="admin-recipe-list">
            <div id="categories-list">
                {% if categories %}
                    {% for category in categories %}
                    <div class="admin-recipe-item category-item" data-category="{{ category.category }}">
                        <div class="category-info">
                            <span class="category-icon">üìÇ</span>
                            <div class="category-details">
                                <span class="category-name-display">{{ category.category }}</span>
                                <span class="category-count-text">{{ category.count }} {% if category.count == 1 %}—Ä–µ—Ü–µ–ø—Ç–∞{% elif category.count < 5 %}—Ä–µ—Ü–µ–ø—Ç–∏{% else %}—Ä–µ—Ü–µ–ø—Ç–∏{% endif %}</span>
                            </div>
                        </div>
                        <div class="admin-recipe-actions">
                            {% if category.category == '–î—Ä—É–≥–∏' %}
                                <span class="system-category-label">üîí –°–∏—Å—Ç–µ–º–Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</span>
                            {% else %}
                                <button class="btn btn-secondary" onclick="editCategory('{{ category.category }}')">‚úèÔ∏è –ü—Ä–µ–∏–º–µ–Ω—É–≤–∞–π</button>
                                <button class="btn btn-danger" onclick="deleteCategory('{{ category.category }}', {{ category.count }})">üóëÔ∏è –ò–∑—Ç—Ä–∏–π</button>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                {% else %}
                    <p class="empty-state">–ù—è–º–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</p>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- Edit Category Modal (Simple) -->
    <div id="edit-category-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>‚úèÔ∏è –ü—Ä–µ–∏–º–µ–Ω—É–≤–∞–Ω–µ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h3>
            <div class="form-group">
                <label>–°—Ç–∞—Ä–æ –∏–º–µ:</label>
                <input type="text" id="edit-category-old" readonly class="readonly-input">
            </div>
            <div class="form-group">
                <label>–ù–æ–≤ –æ –∏–º–µ:</label>
                <input type="text" id="edit-category-new" placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –Ω–æ–≤–æ –∏–º–µ...">
            </div>
            <div class="modal-actions">
                <button class="btn btn-back" onclick="closeEditModal()">–û—Ç–∫–∞–∑</button>
                <button class="btn btn-primary" onclick="saveEditCategory()">üíæ –ó–∞–ø–∞–∑–∏</button>
            </div>
        </div>
    </div>
    
    <script src="/static/js/app.js"></script>
</body>
</html>
