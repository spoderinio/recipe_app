# üöÄ –ë—ä—Ä–∑–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ Raspberry Pi

## ‚ö° –ê–í–¢–û–ú–ê–¢–ò–ß–ù–ê –ò–ù–°–¢–ê–õ–ê–¶–ò–Ø (–ü—Ä–µ–ø–æ—Ä—ä—á–∏—Ç–µ–ª–Ω–æ)

–ò–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ setup —Å–∫—Ä–∏–ø—Ç–∞ –∑–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ –≤—Å–∏—á–∫–æ:

```bash
cd /home/pi/recipe_app
bash setup.sh
```

–°–∫—Ä–∏–ø—Ç—ä—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–≤–∞ –∑–∞ Python 3
- ‚úÖ –°—ä–∑–¥–∞–≤–∞ virtual environment
- ‚úÖ –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ
- ‚úÖ –°—ä–∑–¥–∞–≤–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏ —Å –ø—Ä–∏–º–µ—Ä–Ω–∏ —Ä–µ—Ü–µ–ø—Ç–∏
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞ systemd service (–ø–æ –∏–∑–±–æ—Ä)
- ‚úÖ –ü–æ–∫–∞–∑–≤–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∑–∞ –¥–æ—Å—Ç—ä–ø

---

## üìñ –†–™–ß–ù–ê –ò–ù–°–¢–ê–õ–ê–¶–ò–Ø (–°—Ç—ä–ø–∫–∞-–ø–æ-—Å—Ç—ä–ø–∫–∞)

–ê–∫–æ –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç–µ —Ä—ä—á–Ω–∞ –∏–Ω—Å—Ç–∞–ª–∞—Ü–∏—è, —Å–ª–µ–¥–≤–∞–π—Ç–µ —Å—Ç—ä–ø–∫–∏—Ç–µ –ø–æ-–¥–æ–ª—É:

## –°—Ç—ä–ø–∫–∞ 1: –ö–æ–ø–∏—Ä–∞–Ω–µ –Ω–∞ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ
```bash
# –ö–æ–ø–∏—Ä–∞–π—Ç–µ –≤—Å–∏—á–∫–∏ —Ñ–∞–π–ª–æ–≤–µ –≤ /home/pi/recipe_app
# –ò–ª–∏ –∫–ª–æ–Ω–∏—Ä–∞–π—Ç–µ –æ—Ç –≤–∞—à–µ—Ç–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
cd /home/pi
# mkdir recipe_app
# –∫–æ–ø–∏—Ä–∞–π—Ç–µ —Ñ–∞–π–ª–æ–≤–µ—Ç–µ...
```

## –°—Ç—ä–ø–∫–∞ 2: –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ Virtual Environment
```bash
cd /home/pi/recipe_app

# –°—ä–∑–¥–∞–≤–∞–Ω–µ –Ω–∞ virtual environment
python3 -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ virtual environment
source venv/bin/activate

# –ò–Ω—Å—Ç–∞–ª–∞—Ü–∏—è –Ω–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –î–µ–∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ (–∫–æ–≥–∞—Ç–æ –ø—Ä–∏–∫–ª—é—á–∏—à)
deactivate
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ó–∞ production (systemd service) virtual environment —Å–µ –∏–∑–ø–æ–ª–∑–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ!

## –°—Ç—ä–ø–∫–∞ 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
```bash
# –ê–∫–æ virtual environment –µ –∞–∫—Ç–∏–≤–µ–Ω
python add_sample_recipes.py

# –ò–ª–∏ –±–µ–∑ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω venv (—Å –ø—ä–ª–µ–Ω –ø—ä—Ç)
/home/pi/recipe_app/venv/bin/python add_sample_recipes.py
```

–¢–æ–∑–∏ —Å–∫—Ä–∏–ø—Ç —â–µ:
- –°—ä–∑–¥–∞–¥–µ SQLite –±–∞–∑–∞—Ç–∞ –¥–∞–Ω–Ω–∏
- –î–æ–±–∞–≤–∏ 5 –ø—Ä–∏–º–µ—Ä–Ω–∏ –±—ä–ª–≥–∞—Ä—Å–∫–∏ —Ä–µ—Ü–µ–ø—Ç–∏ –∑–∞ —Ç–µ—Å—Ç–≤–∞–Ω–µ

## –°—Ç—ä–ø–∫–∞ 4: –¢–µ—Å—Ç–≤–∞–Ω–µ
```bash
# –ê–∫—Ç–∏–≤–∏—Ä–∞–π virtual environment
source /home/pi/recipe_app/venv/bin/activate

# –°—Ç–∞—Ä—Ç–∏—Ä–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ
python app.py

# –ò–ª–∏ –¥–∏—Ä–µ–∫—Ç–Ω–æ –±–µ–∑ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ venv
/home/pi/recipe_app/venv/bin/python /home/pi/recipe_app/app.py
```

–û—Ç–≤–æ—Ä–µ—Ç–µ –±—Ä–∞—É–∑—ä—Ä –∏ –Ω–∞–≤–∏–≥–∏—Ä–∞–π—Ç–µ –¥–æ:
```
http://localhost:5002
```

–ò–ª–∏ –æ—Ç –¥—Ä—É–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤ –º—Ä–µ–∂–∞—Ç–∞:
```
http://[IP_–ù–ê_RASPBERRY_PI]:5002
```

–ù–∞–º–∏—Ä–∞–Ω–µ –Ω–∞ IP –∞–¥—Ä–µ—Å–∞:
```bash
hostname -I
```

## –°—Ç—ä–ø–∫–∞ 5: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω–µ –∫–∞—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–∞ —É—Å–ª—É–≥–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ)

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –£–≤–µ—Ä–µ—Ç–µ —Å–µ, —á–µ virtual environment –µ —Å—ä–∑–¥–∞–¥–µ–Ω –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏—Ç–µ —Å–∞ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω–∏!

```bash
# –ö–æ–ø–∏—Ä–∞–Ω–µ –Ω–∞ service —Ñ–∞–π–ª–∞
sudo cp recipe_app.service /etc/systemd/system/

# –†–µ–¥–∞–∫—Ç–∏—Ä–∞–Ω–µ –Ω–∞ –ø—ä—Ç–∏—â–∞—Ç–∞ (–∞–∫–æ –µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
# Service —Ñ–∞–π–ª—ä—Ç –≤–µ—á–µ –µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–Ω –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞ venv –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
sudo nano /etc/systemd/system/recipe_app.service

# –ê–∫—Ç–∏–≤–∏—Ä–∞–Ω–µ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞
sudo systemctl daemon-reload
sudo systemctl enable recipe_app
sudo systemctl start recipe_app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å–∞
sudo systemctl status recipe_app

# –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ª–æ–≥–æ–≤–µ
sudo journalctl -u recipe_app -f
```

**–ó–∞–±–µ–ª–µ–∂–∫–∞:** Service —Ñ–∞–π–ª—ä—Ç –∏–∑–ø–æ–ª–∑–≤–∞ Python –æ—Ç virtual environment:
```
ExecStart=/home/pi/recipe_app/venv/bin/python /home/pi/recipe_app/app.py
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —É—Å–ª—É–≥–∞—Ç–∞
```bash
# –°—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ
sudo systemctl start recipe_app

# –°–ø–∏—Ä–∞–Ω–µ
sudo systemctl stop recipe_app

# –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–Ω–µ
sudo systemctl restart recipe_app

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å—Ç–∞—Ç—É—Å
sudo systemctl status recipe_app
```

## üîß –ü—Ä–æ–º—è–Ω–∞ –Ω–∞ –ø–æ—Ä—Ç–∞
–ê–∫–æ –ø–æ—Ä—Ç 5002 –µ –∑–∞–µ—Ç –∏–ª–∏ –∏—Å–∫–∞—Ç–µ –¥–∞ –∏–∑–ø–æ–ª–∑–≤–∞—Ç–µ –¥—Ä—É–≥ –ø–æ—Ä—Ç:

1. –†–µ–¥–∞–∫—Ç–∏—Ä–∞–π—Ç–µ `app.py`:
```bash
nano /home/pi/recipe_app/app.py
```

2. –ü—Ä–æ–º–µ–Ω–µ—Ç–µ —Ä–µ–¥–∞:
```python
app.run(debug=True, host='0.0.0.0', port=5002)
```

–ù–∞–ø—Ä–∏–º–µ—Ä –∑–∞ –ø–æ—Ä—Ç 8080:
```python
app.run(debug=True, host='0.0.0.0', port=8080)
```

3. –†–µ—Å—Ç–∞—Ä—Ç–∏—Ä–∞–π—Ç–µ —É—Å–ª—É–≥–∞—Ç–∞:
```bash
sudo systemctl restart recipe_app
```

## üì± –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ shortcuts –Ω–∞ Android

### Chrome/Edge:
1. –û—Ç–≤–æ—Ä–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –≤ –±—Ä–∞—É–∑—ä—Ä–∞
2. –ú–µ–Ω—é (—Ç—Ä–∏ —Ç–æ—á–∫–∏) ‚Üí "Add to Home screen"
3. –í—ä–≤–µ–¥–µ—Ç–µ –∏–º–µ (–Ω–∞–ø—Ä. "–†–µ—Ü–µ–ø—Ç–∏")
4. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ —â–µ —Å–µ –ø–æ—è–≤–∏ –∫–∞—Ç–æ –∏–∫–æ–Ω–∫–∞ –Ω–∞ –Ω–∞—á–∞–ª–Ω–∏—è –µ–∫—Ä–∞–Ω

## üîê –î–æ–±–∞–≤—è–Ω–µ –Ω–∞ –ø—Ä–æ—Å—Ça –ø–∞—Ä–æ–ª–∞ –∑–∞—â–∏—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ)

–ó–∞ –æ—Å–Ω–æ–≤–Ω–∞ –∑–∞—â–∏—Ç–∞ –Ω–∞ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞ –º–æ–∂–µ –¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ HTTP Basic Auth:

1. –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π—Ç–µ nginx:
```bash
sudo apt-get install nginx apache2-utils
```

2. –°—ä–∑–¥–∞–π—Ç–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª:
```bash
sudo htpasswd -c /etc/nginx/.htpasswd admin
# –í—ä–≤–µ–¥–µ—Ç–µ –ø–∞—Ä–æ–ª–∞
```

3. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä–∞–π—Ç–µ nginx (–≤–∏–∂ README.md –∑–∞ –¥–µ—Ç–∞–π–ª–∏)

## üîÑ Backup –∏ –≤—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ

### Backup:
```bash
# –†—ä—á–µ–Ω backup
cp /home/pi/recipe_app/recipes.db /home/pi/recipe_app/backup_$(date +%Y%m%d).db

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ–Ω –µ–∂–µ–¥–Ω–µ–≤–µ–Ω backup (crontab)
crontab -e
# –î–æ–±–∞–≤–µ—Ç–µ:
0 2 * * * cp /home/pi/recipe_app/recipes.db /home/pi/recipe_app/backup_$(date +\%Y\%m\%d).db
```

### –í—ä–∑—Å—Ç–∞–Ω–æ–≤—è–≤–∞–Ω–µ:
```bash
sudo systemctl stop recipe_app
cp /home/pi/recipe_app/backup_YYYYMMDD.db /home/pi/recipe_app/recipes.db
sudo systemctl start recipe_app
```

## üåê –î–æ—Å—Ç—ä–ø –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç (–Ω–∞–ø—Ä–µ–¥–Ω–∞–ª–æ)

**‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï:** –ó–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –¥–æ—Å—Ç—ä–ø –∑–∞–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ HTTPS!

–í–∏–∂ —Ä–∞–∑–¥–µ–ª "–î–æ—Å—Ç—ä–ø –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç" –≤ README.md –∑–∞ –¥–µ—Ç–∞–π–ª–Ω–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

## üêõ –û—Ç—Å—Ç—Ä–∞–Ω—è–≤–∞–Ω–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º–∏

### –ü–æ—Ä—Ç 5002 –µ –∑–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–π –∏–∑–ø–æ–ª–∑–≤–∞ –ø–æ—Ä—Ç–∞
sudo netstat -tulpn | grep 5002
# –ò–ª–∏ –∏–∑–ø–æ–ª–∑–≤–∞–π—Ç–µ –¥—Ä—É–≥ –ø–æ—Ä—Ç (–≤–∏–∂ –ø–æ-–≥–æ—Ä–µ)
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –Ω–µ —Å—Ç–∞—Ä—Ç–∏—Ä–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ª–æ–≥–æ–≤–µ
sudo journalctl -u recipe_app -n 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ Python –≥—Ä–µ—à–∫–∏
cd /home/pi/recipe_app
python3 app.py
```

### –ù—è–º–∞ –¥–æ—Å—Ç—ä–ø –æ—Ç –¥—Ä—É–≥–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ firewall
sudo ufw status

# –ê–∫–æ –µ –∞–∫—Ç–∏–≤–∏—Ä–∞–Ω, –æ—Ç–≤–æ—Ä–µ—Ç–µ –ø–æ—Ä—Ç–∞:
sudo ufw allow 5002
```

## üìû –ü–æ–ª–µ–∑–Ω–∏ –∫–æ–º–∞–Ω–¥–∏

```bash
# –ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –≤—Å–∏—á–∫–∏ —Ä–µ—Ü–µ–ø—Ç–∏ –≤ –±–∞–∑–∞—Ç–∞
sqlite3 recipes.db "SELECT * FROM recipes;"

# –ë—Ä–æ–µ–Ω–µ –Ω–∞ —Ä–µ—Ü–µ–ø—Ç–∏
sqlite3 recipes.db "SELECT COUNT(*) FROM recipes;"

# –ò–∑—Ç—Ä–∏–≤–∞–Ω–µ –Ω–∞ –≤—Å–∏—á–∫–∏ —Ä–µ—Ü–µ–ø—Ç–∏ (–í–ù–ò–ú–ê–ù–ò–ï!)
sqlite3 recipes.db "DELETE FROM recipes;"
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ—Ç–æ –µ –≥–æ—Ç–æ–≤–æ –∑–∞ –∏–∑–ø–æ–ª–∑–≤–∞–Ω–µ. –û—Ç–≤–æ—Ä–µ—Ç–µ –±—Ä–∞—É–∑—ä—Ä–∞ –∏ –¥–æ–±–∞–≤–µ—Ç–µ –ø—ä—Ä–≤–∞—Ç–∞ —Å–∏ —Ä–µ—Ü–µ–ø—Ç–∞ –æ—Ç –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∞!

–ê–¥—Ä–µ—Å–∏:
- –ì–ª–∞–≤–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞: `http://[IP]:5002/`
- –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª: `http://[IP]:5002/admin`
